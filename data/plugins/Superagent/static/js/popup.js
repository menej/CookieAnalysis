/*! For license information please see popup.js.LICENSE.txt */
(()=>{"use strict";var e={64482:(e,t,n)=>{var s,a,o,r,i,c=n(72791),l=n(54164),d=n(13239),u=n(89891),p=n(94721),h=n(94294),m=n(21101),f=n(57930),g=n(91776),x=n(29793),v=n(86757),b=n(58764),j=n(20890),y=n(99259);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w.apply(this,arguments)}function S(e,t){let{title:n,titleId:l,...d}=e;return c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:1024,height:1024,viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":l},d),n?c.createElement("title",{id:l},n):null,s||(s=c.createElement("path",{d:"M102.396 204.83v640.856c0 97.491 77.078 178.314 172.791 178.314h473.587c95.713 0 172.791-80.823 172.791-178.314v-640.856h-61.43v640.856c0 65.526-50.14 116.884-111.361 116.884h-473.587c-61.221 0-111.361-51.358-111.361-116.884v-640.856z"})),a||(a=c.createElement("path",{d:"M30.715 174.191c-16.963 0.002-30.713 13.753-30.715 30.715v0c0.002 16.963 13.753 30.713 30.715 30.715h962.532c16.962-0.002 30.713-13.753 30.715-30.715v0c-0.002-16.962-13.753-30.713-30.715-30.715v0z"})),o||(o=c.createElement("path",{d:"M435.193 0c-101.429 0-184.328 82.899-184.328 184.328h61.43c0-68.223 54.675-122.86 122.898-122.86h153.575c68.223 0 122.898 54.637 122.898 122.86h61.43c0-101.429-82.899-184.328-184.328-184.328z"})),r||(r=c.createElement("path",{d:"M409.093 410.379c-0.010 0-0.022 0-0.034 0-16.964 0-30.717 13.751-30.719 30.715v0 348.155c0.002 16.964 13.755 30.715 30.719 30.715 0.012 0 0.024 0 0.035 0h-0.002c16.963-0.002 30.713-13.753 30.715-30.715v0-348.155c-0.002-16.963-13.753-30.713-30.715-30.715v0z"})),i||(i=c.createElement("path",{d:"M613.886 410.379c-16.962 0.002-30.713 13.753-30.715 30.715v0 348.155c0.002 16.963 13.753 30.713 30.715 30.715v0c0.010 0 0.022 0 0.034 0 16.964 0 30.717-13.751 30.719-30.715v0-348.155c-0.002-16.964-13.755-30.715-30.719-30.715-0.012 0-0.024 0-0.035 0h0.002z"})))}const k=c.forwardRef(S);n.p;var Z=n(80184);const C=e=>(0,Z.jsx)(y.Z,{...e,component:k,inheritViewBox:!0});var E=n(71747),_=n(19658),R=n(93543);function I(e){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(R.Z,{open:e.error,autoHideDuration:4e3,onClose:()=>{e.setErrorMessage(null)},children:(0,Z.jsx)(_.Z,{severity:"error",children:e.error})}),(0,Z.jsx)(R.Z,{open:e.success,autoHideDuration:4e3,onClose:()=>{e.setSuccessMessage(null)},children:(0,Z.jsx)(_.Z,{severity:"success",children:e.success})})]})}var O=n(94454),N=n(74989),M=n(79012);const P=(0,m.Z)((e=>({input:{border:`1px solid ${e.palette.text.primary}`,borderRadius:"10px",backgroundColor:e.palette.background.default,width:"100%",marginTop:"10px",padding:"15px 24px"}}))),T={"&.MuiCheckbox-root":{color:e=>e.palette.text.primary},"&.MuiCheckbox-root.Mui-checked":{color:e=>e.palette.primary.main}},z=e=>{let{tabId:t,hostname:n}=e;const s=P(),[a,o]=(0,c.useState)(""),r=(0,c.useCallback)((e=>{o(e.target.value)}),[]),[i,l]=(0,c.useState)(null),[u,p]=(0,c.useState)(null),m=(0,c.useCallback)((async()=>{try{await new f.cf(f.Vm.Provider.SetRule,{rule:JSON.parse(a)}).sendRequest(),l("Test rule saved!"),chrome.tabs.reload(t)}catch(e){p("Error: "+e)}}),[a,t]),[g,x]=(0,c.useState)(!1),v=(0,c.useCallback)((e=>{const t=e.target.checked;new f.cf(f.Vm.Debug.UpdateSuppressSaveSettings,{isSuppressed:t}).sendRequest()}),[]);var y,w;y=b.B.Debug.SuppressedSaveSettings,w=x,(0,c.useEffect)((()=>{const e=e=>{y in e&&w(e[y].newValue)};return w(),chrome.storage.local.onChanged.addListener(e),()=>chrome.storage.local.onChanged.removeListener(e)}),[]),(0,c.useEffect)((()=>{(async()=>{const e=await new f.cf(f.Vm.Debug.GetSuppressSaveSettings).sendRequest(),{isSuppressed:t}=e.message.payload;x(t)})()}),[]),(0,c.useEffect)((()=>{(async()=>{if(!n)return;const e=await new f.cf(f.Vm.Provider.GetProviderInfo,{provider:n}).sendRequest();if(!e)return;const t=e.message.payload.provider;"object"===typeof t&&o(JSON.stringify(t))})()}),[n]);const[S,k]=(0,c.useState)(!1),C=(0,c.useCallback)((async()=>{try{const e=JSON.parse(a);k(!0),await new f.cf(f.Vm.Provider.SaveRule,{rule:e}).sendRequest(),l("Rule has been published successfully!")}catch(e){p("Error: "+e)}finally{k(!1)}}),[a]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j.Z,{variant:"body1",children:"Test rule JSON"}),(0,Z.jsx)(E.u,{value:a,onChange:r,className:s.input,placeholder:"Test rule JSON"}),(0,Z.jsx)(h.Z,{variant:"contained",color:"primary",onClick:m,children:"Run"}),(0,Z.jsx)(M.Z,{children:(0,Z.jsx)(N.Z,{control:(0,Z.jsx)(O.Z,{checked:g,onChange:v,sx:T}),label:"Don't click Save Settings"})}),(0,Z.jsx)(h.Z,{variant:"contained",color:"secondary",onClick:C,disabled:S,endIcon:(0,Z.jsx)(d.Z,{sx:{visibility:S?"visible":"hidden"},size:"1rem",color:"primary"}),children:"Publish"}),(0,Z.jsx)(I,{error:u,success:i,setErrorMessage:p,setSuccessMessage:l})]})},D=(0,m.Z)((()=>({hostnameStatus:{display:"flex",justifyContent:"space-between"},hostnameData:{display:"flex",flexDirection:"column",alignItems:"flex-start"},deleteButton:{marginTop:8}})));function A(e){const{hostname:t,isRunning:n,setIsRunning:s,tabId:a,isAdmin:o}=e,{t:r}=(0,x.$)(),i=D(),l=(0,c.useCallback)((()=>{v.Z.clearKey(b.B.Provider.ProviderDetectors),v.Z.clearKey(b.B.Provider.Rules)}),[]),d=(0,c.useCallback)((async()=>{try{await new f.cf(f.Vm.KeyManager.DeleteDEK).sendRequest()}catch(e){}}),[]),m=(0,c.useCallback)((e=>{const n=e.target.checked;s(n),new f.cf(f.Vm.Whitelist.UpdateHostnameState,{hostname:t,state:n}).sendRequest().then((()=>{chrome.tabs.reload(a)})).catch((e=>{g.w.debugLog("Error: "),g.w.debugLog(e,!0)}))}),[t,s,a]);return t?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:i.hostnameStatus,children:[(0,Z.jsxs)("div",{className:i.hostnameData,children:[(0,Z.jsx)(j.Z,{children:r(n?"general.enabled":"general.disabled")}),(0,Z.jsx)(j.Z,{variant:"body2",textAlign:"start",children:r("general.in")+" "+t})]}),(0,Z.jsx)(u.Z,{onChange:m,checked:n})]}),(0,Z.jsx)(p.Z,{}),o&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)(h.Z,{variant:"contained",color:"primary",onClick:l,className:i.deleteButton,startIcon:(0,Z.jsx)(C,{}),children:"Delete Provider Info"}),(0,Z.jsx)(h.Z,{variant:"contained",color:"primary",onClick:d,className:i.deleteButton,startIcon:(0,Z.jsx)(C,{}),children:"Delete DEK"}),(0,Z.jsx)(p.Z,{}),(0,Z.jsx)(z,{tabId:a,hostname:t}),(0,Z.jsx)(p.Z,{})]})]}):null}var L=n(39569);const V=()=>"eu-west-1_iv6CkI7wU"===L.Z.aws_user_pools_id,F=(0,m.Z)((e=>({bottom:{marginTop:24,display:"flex",justifyContent:"space-between",alignItems:"center"},reportProblem:{textTransform:"capitalize",color:e.palette.text.primary,textDecoration:"underline",fontSize:e.typography.body1.fontSize,paddingLeft:0}})));function G(e){let{setIsReportingProblem:t,isReportingProblem:n,hostname:s}=e;const a=F(),{t:o}=(0,x.$)(),[r,i]=(0,c.useState)(),l=(0,c.useCallback)((()=>{t(!0)}),[t]);return(0,c.useEffect)((()=>{(async()=>{try{const e=(await new f.cf(f.Vm.Generic.GetVersion,{}).sendRequest()).message.payload.version;i(e)}catch(e){}})()}),[]),(0,Z.jsxs)("div",{className:a.bottom,children:[!n&&s?(0,Z.jsx)(h.Z,{className:a.reportProblem,size:"small",variant:"text",onClick:l,children:o("popup.app.button.report_problem")}):(0,Z.jsx)("p",{children:"\xa0"}),r&&(0,Z.jsxs)(j.Z,{variant:"body2",children:[o("popup.app.version",{version:r}),V()?" (DEV)":null]})]})}var B=n(50533),q=n(23356);const $=()=>window.open("https://www.super-agent.com"),U=()=>chrome.runtime.openOptionsPage();var H,W;function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J.apply(this,arguments)}function K(e,t){let{title:n,titleId:s,...a}=e;return c.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",width:1024,height:1024,viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":s},a),n?c.createElement("title",{id:s},n):null,H||(H=c.createElement("path",{d:"M512 392.533c31.915 0 61.909 12.425 84.48 34.995 22.562 22.562 34.995 52.565 34.995 84.471s-12.425 61.909-34.995 84.471c-22.562 22.562-52.565 34.995-84.48 34.995s-61.909-12.425-84.471-34.995c-22.562-22.562-34.995-52.565-34.995-84.471s12.425-61.909 34.995-84.471c22.562-22.562 52.565-34.995 84.471-34.995zM512 341.333c-94.259 0-170.667 76.407-170.667 170.667s76.407 170.667 170.667 170.667 170.667-76.407 170.667-170.667-76.407-170.667-170.667-170.667v0z"})),W||(W=c.createElement("path",{d:"M545.741 136.533c6.118 0 11.52 3.883 13.756 9.89 7.799 20.941 18.714 40.55 32.418 58.291 13.568 17.545 29.619 32.93 47.718 45.722 37.649 26.624 81.988 40.687 128.222 40.687 15.275 0 30.558-1.562 45.406-4.651 0.879-0.179 1.775-0.273 2.662-0.273 4.992 0 9.711 2.807 12.322 7.339l31.249 54.127c3.285 5.692 2.569 12.86-1.792 17.826-35.516 40.491-55.074 92.527-55.074 146.517s19.558 106.018 55.074 146.517c4.361 4.966 5.077 12.134 1.792 17.826l-31.249 54.127c-2.611 4.523-7.339 7.33-12.322 7.33-0.887 0-1.783-0.094-2.662-0.273-14.848-3.089-30.131-4.651-45.406-4.651-46.234 0-90.573 14.071-128.222 40.687-18.099 12.8-34.159 28.186-47.718 45.722-13.713 17.732-24.619 37.35-32.418 58.291-2.236 6.007-7.637 9.89-13.756 9.89h-67.473c-6.118 0-11.52-3.883-13.756-9.89-7.799-20.941-18.714-40.55-32.427-58.291-13.568-17.545-29.619-32.93-47.718-45.722-37.649-26.624-81.988-40.687-128.222-40.687-15.275 0-30.558 1.562-45.406 4.651-0.879 0.179-1.775 0.273-2.662 0.273-4.992 0-9.711-2.807-12.322-7.33l-31.249-54.127c-3.285-5.692-2.569-12.851 1.792-17.826 35.516-40.491 55.074-92.527 55.074-146.517s-19.558-106.018-55.074-146.517c-4.361-4.966-5.077-12.134-1.792-17.826l31.249-54.127c2.611-4.523 7.339-7.339 12.322-7.339 0.887 0 1.783 0.094 2.662 0.273 14.848 3.089 30.131 4.651 45.406 4.651 46.234 0 90.573-14.071 128.222-40.687 18.099-12.8 34.159-28.186 47.718-45.722 13.713-17.732 24.619-37.35 32.418-58.291 2.236-6.007 7.637-9.89 13.756-9.89h67.473zM545.732 85.333h-67.473c-27.614 0-52.096 17.34-61.739 43.221-24.226 65.050-86.895 111.377-160.384 111.377-11.989 0-23.697-1.237-34.987-3.584-4.369-0.905-8.747-1.348-13.082-1.348-23.040 0-44.817 12.416-56.661 32.939l-31.249 54.127c-14.268 24.704-11.17 55.74 7.646 77.184 26.402 30.097 42.368 69.538 42.368 112.751s-15.966 82.654-42.368 112.751c-18.816 21.444-21.905 52.48-7.646 77.184l31.249 54.127c11.853 20.523 33.63 32.939 56.661 32.939 4.335 0 8.713-0.435 13.082-1.348 11.29-2.347 22.997-3.584 34.987-3.584 73.489 0 136.158 46.336 160.384 111.377 9.643 25.882 34.116 43.221 61.739 43.221h67.473c27.614 0 52.096-17.34 61.739-43.221 24.226-65.050 86.895-111.377 160.384-111.377 11.989 0 23.697 1.237 34.987 3.584 4.369 0.905 8.747 1.348 13.082 1.348 23.031 0 44.817-12.416 56.661-32.939l31.249-54.127c14.268-24.704 11.17-55.74-7.646-77.184-26.402-30.097-42.368-69.538-42.368-112.751s15.966-82.654 42.368-112.751c18.816-21.444 21.905-52.48 7.646-77.184l-31.249-54.127c-11.853-20.523-33.63-32.939-56.661-32.939-4.335 0-8.713 0.435-13.082 1.348-11.29 2.347-22.997 3.584-34.987 3.584-73.489 0-136.158-46.336-160.384-111.377-9.643-25.882-34.116-43.221-61.739-43.221v0z"})))}const Y=c.forwardRef(K),Q=(n.p,e=>(0,Z.jsx)(y.Z,{...e,component:Y,inheritViewBox:!0}));var X,ee,te,ne,se,ae,oe=n(75656);function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},re.apply(this,arguments)}function ie(e,t){let{title:n,titleId:s,...a}=e;return c.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",width:1024,height:1024,viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":s},a),n?c.createElement("title",{id:s},n):null,X||(X=c.createElement("path",{fill:"#35363a",d:"M341.333-0.947h341.333c188.513 0 341.333 152.82 341.333 341.333v341.333c0 188.513-152.82 341.333-341.333 341.333h-341.333c-188.513 0-341.333-152.82-341.333-341.333v-341.333c0-188.513 152.82-341.333 341.333-341.333z"})),ee||(ee=c.createElement("path",{fill:"#def7d9",d:"M605.867 574.199c28.723 0 55.723 11.187 76.032 31.488 20.309 20.309 31.488 47.309 31.488 76.032s-11.187 55.723-31.488 76.032c-20.309 20.309-47.309 31.488-76.032 31.488h-187.733c-28.723 0-55.723-11.187-76.032-31.488s-31.488-47.309-31.488-76.032 11.187-55.723 31.488-76.032c20.309-20.309 47.309-31.488 76.032-31.488h187.733zM605.867 553.719h-187.733c-70.69 0-128 57.31-128 128v0c0 70.69 57.31 128 128 128h187.733c70.69 0 128-57.31 128-128v0c0-70.69-57.31-128-128-128v0z"})),te||(te=c.createElement("path",{fill:"#def7d9",d:"M475.691 681.719c0 32.368-26.239 58.607-58.607 58.607s-58.607-26.239-58.607-58.607c0-32.368 26.239-58.607 58.607-58.607s58.607 26.239 58.607 58.607z"})),ne||(ne=c.createElement("path",{fill:"#def7d9",d:"M417.084 637.039c24.636 0 44.681 20.045 44.681 44.681s-20.045 44.681-44.681 44.681-44.681-20.045-44.681-44.681 20.045-44.681 44.681-44.681zM417.084 609.186c-40.055 0-72.533 32.478-72.533 72.533s32.478 72.533 72.533 72.533 72.533-32.478 72.533-72.533-32.478-72.533-72.533-72.533v0z"})),se||(se=c.createElement("path",{fill:"#def7d9",d:"M418.133 212.864h187.733c70.692 0 128 57.308 128 128s-57.308 128-128 128h-187.733c-70.692 0-128-57.308-128-128s57.308-128 128-128z"})),ae||(ae=c.createElement("path",{fill:"#35363a",d:"M687.983 340.864c0 44.772-36.295 81.067-81.067 81.067s-81.067-36.295-81.067-81.067c0-44.772 36.295-81.067 81.067-81.067s81.067 36.295 81.067 81.067z"})))}const ce=c.forwardRef(ie);n.p;var le,de,ue,pe,he,me;function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fe.apply(this,arguments)}function ge(e,t){let{title:n,titleId:s,...a}=e;return c.createElement("svg",fe({xmlns:"http://www.w3.org/2000/svg",width:1024,height:1024,viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":s},a),n?c.createElement("title",{id:s},n):null,le||(le=c.createElement("path",{fill:"#57d881",d:"M341.333 0h341.333c188.513 0 341.333 152.82 341.333 341.333v341.333c0 188.513-152.82 341.333-341.333 341.333h-341.333c-188.513 0-341.333-152.82-341.333-341.333v-341.333c0-188.513 152.82-341.333 341.333-341.333z"})),de||(de=c.createElement("path",{fill:"#35363a",d:"M605.867 576.853c28.262 0 54.835 11.008 74.82 30.993s30.993 46.558 30.993 74.82-11.008 54.835-30.993 74.82c-19.985 19.985-46.558 30.993-74.82 30.993h-187.733c-28.262 0-54.835-11.008-74.82-30.993s-30.993-46.558-30.993-74.82 11.008-54.835 30.993-74.82c19.985-19.985 46.558-30.993 74.82-30.993h187.733zM605.867 554.667h-187.733c-70.69 0-128 57.31-128 128v0c0 70.69 57.31 128 128 128h187.733c70.69 0 128-57.31 128-128v0c0-70.69-57.31-128-128-128v0z"})),ue||(ue=c.createElement("path",{fill:"#35363a",d:"M489.617 682.667c0 40.059-32.474 72.533-72.533 72.533s-72.533-32.474-72.533-72.533c0-40.059 32.474-72.533 72.533-72.533s72.533 32.474 72.533 72.533z"})),pe||(pe=c.createElement("path",{fill:"#35363a",d:"M418.133 458.718c-64.461 0-116.907-52.446-116.907-116.907s52.446-116.907 116.907-116.907h187.733c64.461 0 116.907 52.446 116.907 116.907s-52.446 116.907-116.907 116.907h-187.733z"})),he||(he=c.createElement("path",{fill:"#35363a",d:"M605.867 235.998c28.262 0 54.835 11.008 74.82 30.993s30.993 46.558 30.993 74.82-11.008 54.835-30.993 74.82c-19.985 19.985-46.558 30.993-74.82 30.993h-187.733c-28.262 0-54.835-11.008-74.82-30.993s-30.993-46.558-30.993-74.82 11.008-54.835 30.993-74.82c19.985-19.985 46.558-30.993 74.82-30.993h187.733zM605.867 213.811h-187.733c-70.69 0-128 57.31-128 128v0c0 70.69 57.31 128 128 128h187.733c70.69 0 128-57.31 128-128v0c0-70.69-57.31-128-128-128v0z"})),me||(me=c.createElement("path",{fill:"#57d881",d:"M687.983 341.811c0 44.772-36.295 81.067-81.067 81.067s-81.067-36.295-81.067-81.067c0-44.772 36.295-81.067 81.067-81.067s81.067 36.295 81.067 81.067z"})))}const xe=c.forwardRef(ge);n.p;var ve=n(13967);const be=e=>{let{brand:t,...n}=e;const s=(0,ve.Z)();t=t||("dark"===s.palette.mode?"light":"dark");const a="dark"===t?ce:xe;return(0,Z.jsx)(y.Z,{...n,component:a,inheritViewBox:!0})},je=(0,m.Z)((e=>({bar:{display:"flex",justifyContent:"space-between",marginBottom:24},barLogoLink:{display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:0},barIcon:{float:"right",textAlign:"right",width:100},brand:{fontSize:40},superagent:{fontSize:124,height:"auto",color:e.palette.text.primary},actions:{display:"flex",alignItems:"center"},deleteIcon:{fontSize:18},settingsIcon:{fontSize:20},spacer:{marginRight:10}})));function ye(e){const t=je(),{hostname:n,setSuccessMessage:s}=e,{t:a}=(0,x.$)(),o=(0,c.useCallback)((()=>{new f.cf(f.Vm.Cookies.DeleteCookies,{hostname:n}).sendRequest().then((()=>s(a("popup.navigation.cookies_deleted"))))}),[n,s,a]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:t.bar,children:[(0,Z.jsx)(B.Z,{className:t.barLogoLink,href:"#",onClick:$,children:(0,Z.jsx)(be,{className:t.brand})}),(0,Z.jsx)(B.Z,{className:t.barLogoLink,href:"#",onClick:$,children:(0,Z.jsx)(oe.n,{className:t.superagent})}),(0,Z.jsxs)("div",{className:t.actions,children:[(0,Z.jsx)(q.Z,{title:a("popup.navigation.delete_cookies"),className:t.spacer,children:(0,Z.jsx)(B.Z,{href:"#",onClick:o,color:"inherit",children:(0,Z.jsx)(C,{className:t.deleteIcon})})}),(0,Z.jsx)(q.Z,{title:a("popup.navigation.settings"),children:(0,Z.jsx)(B.Z,{href:"#",onClick:U,color:"inherit",children:(0,Z.jsx)(Q,{className:t.settingsIcon})})})]})]}),(0,Z.jsx)(p.Z,{})]})}var we,Se=n(61889),ke=n(35527),Ze=n(13400),Ce=n(71496);function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ee.apply(this,arguments)}function _e(e,t){let{title:n,titleId:s,...a}=e;return c.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:1024,height:1024,viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":s},a),n?c.createElement("title",{id:s},n):null,we||(we=c.createElement("path",{d:"M472.875 78.698c-81.545 7.24-157.508 37.079-227.115 89.212-19.73 14.777-60.112 54.646-75.395 74.437-42.842 55.478-71.766 118.013-84.856 183.466-6.47 32.352-7.832 47.341-7.832 86.187s1.362 53.835 7.832 86.187c13.11 65.554 42.017 128.005 84.922 183.466 14.43 18.654 53.262 57.486 71.916 71.916 64.256 49.708 133.296 78.663 215.893 90.545 20.151 2.898 87.369 2.898 107.52 0 82.597-11.882 151.637-40.837 215.893-90.545 18.654-14.43 57.486-53.262 71.916-71.916 49.708-64.256 78.663-133.296 90.545-215.893 2.898-20.151 2.898-87.369 0-107.52-13.974-97.138-52.738-178.432-117.625-246.675-90.419-95.093-222.042-144.55-353.614-132.867m95.445 53.618c95.699 14.446 182.848 64.47 242.906 139.429 34.704 43.314 60.604 95.571 73.402 148.095 7.929 32.547 10.377 54.286 10.377 92.16 0 63.808-11.004 112.115-38.296 168.107-57.745 118.468-170.169 197.974-301.699 213.36-160.19 18.738-317.081-67.586-387.777-213.36-27.296-56.283-38.238-104.391-38.238-168.107 0-63.716 10.942-111.824 38.238-168.107 44.871-92.524 126.195-163.818 223.594-196.018 30.086-9.946 54.275-14.847 93.013-18.847 13.736-1.418 67.05.657 84.48 3.288m-79.834 104.991c-18.05 9.019-27.706 23.542-29.019 43.646-1.05 16.066 2.561 26.86 12.79 38.237 4.291 4.773 11.725 10.738 16.519 13.254 7.469 3.919 10.795 4.575 23.224 4.575s15.755-.656 23.224-4.575c4.794-2.516 12.228-8.481 16.519-13.254 10.229-11.377 13.84-22.171 12.79-38.237-1.313-20.104-10.969-34.627-29.019-43.646-8.887-4.441-12.319-5.2-23.514-5.2-11.195 0-14.627.759-23.514 5.2m11.593 173.576c-3.381 1.696-7.604 5.929-9.785 9.81l-3.838 6.827-.028 170.732-.028 170.731 3.84 7.489c9.378 18.289 34.142 18.289 43.52 0l3.84-7.489V429.097l-3.84-7.615c-4.346-8.618-12.3-13.583-21.76-13.583-3.285 0-8.65 1.342-11.921 2.984"})))}const Re=c.forwardRef(_e),Ie=(n.p,e=>(0,Z.jsx)(y.Z,{...e,component:Re,inheritViewBox:!0})),Oe=e=>{let{number:t,description:n,info:s,itemsMinWidth:a="250px",showTooltip:o=!0,maxWidth:r=!1}=e;const i=(0,c.useCallback)((e=>({position:"relative",minHeight:"145px",maxHeight:"192px",maxWidth:"328px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",borderRadius:"30px",backgroundColor:e.palette.background.default,boxShadow:"none",border:`2px solid ${e.palette.text.primary}`,...a&&{[e.breakpoints.down("sm")]:{minWidth:a}},...r&&{width:"100%"}})),[a,r]);return(0,Z.jsxs)(ke.Z,{sx:i,children:[(0,Z.jsx)(j.Z,{variant:"h1",sx:e=>({[e.breakpoints.down("sm")]:{...!r&&{fontSize:(0,Ce.Q)(24)}}}),children:t}),(0,Z.jsx)(j.Z,{variant:"subtitle1",children:n}),o&&(0,Z.jsx)(q.Z,{sx:e=>({[e.breakpoints.down("xs")]:{display:"none"}}),title:(0,Z.jsx)(j.Z,{variant:"body2",children:s}),children:(0,Z.jsx)(Ze.Z,{"aria-label":"info",sx:{position:"absolute",top:0,right:0},children:(0,Z.jsx)(Ie,{})})})]})},Ne=()=>{const{t:e}=(0,x.$)();return(0,Z.jsx)(j.Z,{variant:"body2",textAlign:"start",width:"99%",children:e("popup.no_detection_view.title")})},Me=(0,m.Z)((()=>({actionTakenResults:{display:"flex",flexDirection:"column",justifyContent:"start"},outcome:{marginBottom:24}}))),Pe=e=>{let{actionTaken:t,outcome:n,processing:s,buttonsClicked:a}=e;const{t:o}=(0,x.$)(),r=Me();return t?(0,Z.jsxs)("div",{className:r.actionTakenResults,children:[(0,Z.jsx)(j.Z,{className:r.outcome,variant:"body1",textAlign:"start",children:n}),!s&&(0,Z.jsx)(Oe,{number:a||0,description:"Clicks Saved",info:o("popup.clicks_saved.info"),showTooltip:!1})]}):null};function Te(e){const{t:t}=(0,x.$)(),[n,s]=(0,c.useState)(!0),[a,o]=(0,c.useState)({buttonsClicked:0}),[r,i]=(0,c.useState)(null),l=async()=>{try{const t=(await new f.cf(f.Vm.Tab.GetActiveTab).sendRequest()).message.payload.tab,n=t.id,a=g.w.hostnameForURL(t.url);await(async(t,n)=>{new f.cf(f.Vm.Tab.GetExecutionResults,{tabId:t}).sendRequest().then((t=>{const s=t.message.payload.executionResults,a=u(s,n);return o(a),e.setHaveInfo(!0),a})).catch((e=>{}))})(n,a),await(async t=>{try{const n=(await new f.cf(f.Vm.Logger.GetLogs).sendRequest()).message.payload.logs.filter((e=>e.hostname===t))[0];n&&(e.setHaveInfo(!0),i(n))}catch(n){i(null)}})(a),s(!1)}catch(t){s(!1)}},u=(e,n)=>{let s={outcome:"",buttonsClicked:0};if("PROCESSING"===e.outcome)return s.outcome=t("popup.outcome.processing.title"),s.actionTaken=!0,s.processing=!0,s;if("NONE"===e.outcome)return s.outcome=t("popup.outcome.none.title"),s.actionTaken=!1,s.processing=!1,s;switch(e.outcome){case"PREFERENCES_APPLIED":s.outcome=t("popup.outcome.preferences_applied.title",{hostname:n}),s.actionTaken=!0,s.processing=!1;break;case"ACCEPTED_DEFAULT":s.outcome=t("popup.outcome.accepted_default.title",{hostname:n}),s.actionTaken=!0,s.processing=!1;break;case"REJECTED_ALL":s.outcome=t("popup.outcome.reject_all.title",{hostname:n}),s.actionTaken=!0,s.processing=!1;break;case"ACCEPTED_NECESSARY":s.outcome=t("popup.outcome.accepted_necessary.title",{hostname:n}),s.actionTaken=!0,s.processing=!1;break;default:s.outcome="",s.actionTaken=!1,s.processing=!1}return s.buttonsClicked=e.totalClicks,s.hostname=e.hostname,s},p=()=>{let e="";switch(r.outcome){case"PREFERENCES_APPLIED":e=t("popup.last_log.preferences_applied",{hostname:r.hostname,date:r.date,time:r.time});break;case"ACCEPTED_DEFAULT":e=t("popup.last_log.accepted_default",{hostname:r.hostname,date:r.date,time:r.time});break;case"REJECTED_ALL":e=t("popup.last_log.reject_all",{hostname:r.hostname,date:r.date,time:r.time});break;case"ACCEPTED_NECESSARY":e=t("popup.last_log.accepted_necessary",{hostname:r.hostname,date:r.date,time:r.time});break;default:e=null}return(0,Z.jsx)("div",{children:(0,Z.jsxs)(Se.ZP,{container:!0,spacing:1,alignItems:"center",direction:"column",justify:"center",children:[(0,Z.jsx)(Se.ZP,{item:!0,xs:12,children:e}),(0,Z.jsx)(Se.ZP,{item:!0,xs:12,children:(0,Z.jsx)("div",{style:{margin:"5px"},children:(0,Z.jsx)(Oe,{number:r.totalClicks?r.totalClicks:0,description:"Clicks Saved",info:t("popup.clicks_saved.info")})})})]})})};return(0,c.useEffect)((()=>{l()}),[]),n?(0,Z.jsx)(d.Z,{}):a.buttonsClicked>0?(0,Z.jsx)(Pe,{...a}):r?(0,Z.jsx)("div",{children:(0,Z.jsx)(p,{})}):(0,Z.jsx)(Ne,{})}var ze=n(1428);function De(e){const{t:t}=(0,x.$)(),n=(0,c.useCallback)((()=>{new f.cf(f.Vm.Auth.OpenSignIn,{}).sendRequest()}),[]),s=(0,c.useCallback)((()=>{new f.cf(f.Vm.Auth.OpenSignUp,{}).sendRequest()}),[]);return(0,Z.jsx)("div",{children:(0,Z.jsxs)(Se.ZP,{container:!0,spacing:2,direction:"column",alignItems:"center",justifyContent:"center",children:[(0,Z.jsx)(Se.ZP,{item:!0,xs:12,children:(0,Z.jsx)(_.Z,{color:"success",children:t("popup.limited_functionality.alert")})}),e.fullText?(0,Z.jsxs)("div",{children:[(0,Z.jsx)(Se.ZP,{item:!0,xs:12,children:(0,Z.jsx)(j.Z,{style:{fontWeight:600},children:t("popup.limited_functionality.body")})}),(0,Z.jsxs)(Se.ZP,{item:!0,xs:12,style:{margin:"10px"},children:[(0,Z.jsx)(Ae,{text:t("popup.limited_functionality.benefits.first")}),(0,Z.jsx)(Ae,{text:t("popup.limited_functionality.benefits.second")}),(0,Z.jsx)(Ae,{text:t("popup.limited_functionality.benefits.third")})]})]}):null,(0,Z.jsxs)(Se.ZP,{item:!0,xs:12,children:[(0,Z.jsx)(h.Z,{style:{marginRight:"10px"},color:"primary",variant:"contained",onClick:s,children:t("popup.limited_functionality.button.signup")}),(0,Z.jsx)(B.Z,{style:{marginLeft:"10px"},href:"#",underline:"always",onClick:n,children:t("popup.limited_functionality.button.signin")})]})]})})}const Ae=e=>(0,Z.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,Z.jsx)(ze.Z,{fontSize:"small",style:{marginRight:"5px"}}),(0,Z.jsx)("span",{children:e.text})]}),Le={LOADING:"loading",LOGGED_IN:"logged_in",NOT_LOGGED_IN:"not_logged_in"};function Ve(e){return!0===e.isRunning?(0,Z.jsx)("div",{className:"content",children:e.loggedIn===Le.LOGGED_IN?(0,Z.jsx)(Te,{setHaveInfo:e.setHaveInfo}):e.loggedIn===Le.NOT_LOGGED_IN?(0,Z.jsxs)("div",{children:[""!==e.hostname?(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:"info",children:(0,Z.jsx)(Te,{setHaveInfo:e.setHaveInfo})}),(0,Z.jsx)(p.Z,{})]}):null,(0,Z.jsx)("div",{className:"limited",children:(0,Z.jsx)(De,{fullText:!e.haveInfo})})]}):null}):null}var Fe=n(64280),Ge=n(697),Be=n(63366),qe=n(87462),$e=n(63733),Ue=n(94419),He=n(12065),We=n(97278),Je=n(31402),Ke=n(74223);const Ye=(0,Ke.Z)((0,Z.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Qe=(0,Ke.Z)((0,Z.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var Xe=n(66934);const et=(0,Xe.ZP)("span",{shouldForwardProp:Xe.FO})({position:"relative",display:"flex"}),tt=(0,Xe.ZP)(Ye)({transform:"scale(1)"}),nt=(0,Xe.ZP)(Qe)((e=>{let{theme:t,ownerState:n}=e;return(0,qe.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const st=function(e){const{checked:t=!1,classes:n={},fontSize:s}=e,a=(0,qe.Z)({},e,{checked:t});return(0,Z.jsxs)(et,{className:n.root,ownerState:a,children:[(0,Z.jsx)(tt,{fontSize:s,className:n.background,ownerState:a}),(0,Z.jsx)(nt,{fontSize:s,className:n.dot,ownerState:a})]})};var at=n(14036),ot=n(31260);const rt=c.createContext(void 0);var it=n(11266);const ct=["checked","checkedIcon","color","icon","name","onChange","size","className"],lt=(0,Xe.ZP)(We.Z,{shouldForwardProp:e=>(0,Xe.FO)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t[`size${(0,at.Z)(n.size)}`],t[`color${(0,at.Z)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,qe.Z)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,He.Fq)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${it.Z.checked}`]:{color:(t.vars||t).palette[n.color].main}},{[`&.${it.Z.disabled}`]:{color:(t.vars||t).palette.action.disabled}})}));const dt=(0,Z.jsx)(st,{checked:!0}),ut=(0,Z.jsx)(st,{}),pt=c.forwardRef((function(e,t){var n,s;const a=(0,Je.Z)({props:e,name:"MuiRadio"}),{checked:o,checkedIcon:r=dt,color:i="primary",icon:l=ut,name:d,onChange:u,size:p="medium",className:h}=a,m=(0,Be.Z)(a,ct),f=(0,qe.Z)({},a,{color:i,size:p}),g=(e=>{const{classes:t,color:n,size:s}=e,a={root:["root",`color${(0,at.Z)(n)}`,"medium"!==s&&`size${(0,at.Z)(s)}`]};return(0,qe.Z)({},t,(0,Ue.Z)(a,it.l,t))})(f),x=c.useContext(rt);let v=o;const b=(0,ot.Z)(u,x&&x.onChange);let j=d;var y,w;return x&&("undefined"===typeof v&&(y=x.value,v="object"===typeof(w=a.value)&&null!==w?y===w:String(y)===String(w)),"undefined"===typeof j&&(j=x.name)),(0,Z.jsx)(lt,(0,qe.Z)({type:"radio",icon:c.cloneElement(l,{fontSize:null!=(n=ut.props.fontSize)?n:p}),checkedIcon:c.cloneElement(r,{fontSize:null!=(s=dt.props.fontSize)?s:p}),ownerState:f,classes:g,name:j,checked:v,onChange:b,ref:t,className:(0,$e.Z)(g.root,h)},m))}));var ht=n(42071),mt=n(5158),ft=n(67384);const gt=["actions","children","defaultValue","name","onChange","value"],xt=c.forwardRef((function(e,t){const{actions:n,children:s,defaultValue:a,name:o,onChange:r,value:i}=e,l=(0,Be.Z)(e,gt),d=c.useRef(null),[u,p]=(0,mt.Z)({controlled:i,default:a,name:"RadioGroup"});c.useImperativeHandle(n,(()=>({focus:()=>{let e=d.current.querySelector("input:not(:disabled):checked");e||(e=d.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const h=(0,ht.Z)(t,d),m=(0,ft.Z)(o),f=c.useMemo((()=>({name:m,onChange(e){p(e.target.value),r&&r(e,e.target.value)},value:u})),[m,r,p,u]);return(0,Z.jsx)(rt.Provider,{value:f,children:(0,Z.jsx)(M.Z,(0,qe.Z)({role:"radiogroup",ref:h},l,{children:s}))})}));var vt=n(52739);function bt(e,t){const n=e.attributes;for(let s=0;s<n.length;s++){const e=n[s].value;if(e instanceof Array){for(let n=0;n<e.length;n++)if(t.test(e[n].toLowerCase()))return!0}else if(t.test(e.toLowerCase()))return!0}return!1}const jt=e=>(new DOMParser).parseFromString(e,"text/html"),yt=(0,m.Z)((e=>({root:{verticalAlign:"center",marginTop:"10px"},box:{marginTop:-9,textAlign:"right"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},backButtonBox:{textAlign:"left",marginLeft:14,marginTop:10},reasonTextField:{width:"100%"},bottomDivider:{marginTop:5,marginBottom:0},submitButton:{marginTop:24}}))),wt={"&.MuiCheckbox-root":{color:e=>e.palette.text.primary},"&.MuiCheckbox-root.Mui-checked":{color:e=>e.palette.primary.main}};function St(e){let{hostname:t,setSuccessMessage:n,setErrorMessage:s,isReportingProblem:a,tab:o}=e;const r=yt(),{t:i}=(0,x.$)(),[l,u]=c.useState("cookie_popups"),[m,g]=(0,c.useState)(!1),[v,b]=(0,c.useState)(!1),[j,y]=(0,c.useState)(""),[w,S]=(0,c.useState)("other"!==l),k=(0,c.useCallback)(((e,t)=>{S("other"!==e||"other"===e&&""!==t)}),[]),C=(0,c.useCallback)((e=>{y(e.target.value),k(l,e.target.value)}),[l,k]),E=(0,c.useCallback)((e=>{const t=e.target.value;u(t),g("other"===t),k(t,j)}),[k,j]),_=(0,c.useCallback)((async()=>{try{const e=(await new f.cf(f.Vm.Content.Dom.GetDocument).sendRequestToTab(o.id)).message.payload.documentHtml,n=jt(e);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cookie|gdpr|policy",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cookie|gdpr|policy|axeptio|uc-overlay";const a=new RegExp(".*"+n+".*","i"),o=new RegExp(".*"+s+".*","i"),r=["script","style","html","body","footer","head"],i=Array.from(t.querySelectorAll("*")).filter((e=>a.test(e.textContent))),c=[],l=[],d=[],u=[];for(const p of i){let e=p.parentElement;for(;e&&!bt(e,o);)e=e.parentElement;const t=e||p.parentElement;t&&!r.includes(t.tagName.toLowerCase())&&(c.some((e=>e.includes(t.textContent)))||(c.push(t.textContent),l.push(t.outerHTML),d.push(t.tagName),u.push(t)))}return{urlParsed:e,searchWord:n,searchAttributes:s,foundBlocks:c.length,htmlBlocks:l,documentElements:u,tags:d}}(t,n).htmlBlocks}catch(e){return[]}}),[t,o]),[R,I]=(0,c.useState)(!1),P=(0,c.useCallback)((e=>{I(e.target.checked)}),[]),T=(0,c.useCallback)((async(e,a)=>{b(!0);let o=[];R&&(o=await _()||[]),new f.cf(f.Vm.Report.ReportWebsite,{hostname:t,reason:e,description:a,cookieHTMLs:o}).sendRequest().then((()=>{b(!1),y(""),n(i("popup.report.success_message"))})).catch((()=>{b(!1),s(i("popup.report.error_message"))}))}),[_,t,n,i,s,R]),z=(0,c.useCallback)((e=>{e.preventDefault();T(l,"other"===l?j:null)}),[T,l,j]);return a?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ge.Z,{className:r.box,children:(0,Z.jsxs)("form",{onSubmit:z,children:[(0,Z.jsxs)(xt,{"aria-label":"problem",name:"problem",value:l,onChange:E,children:[(0,Z.jsx)(N.Z,{value:"cookie_popups",control:(0,Z.jsx)(pt,{}),label:i("popup.report.radiogroup.option1")}),(0,Z.jsx)(N.Z,{value:"something_stop_working",control:(0,Z.jsx)(pt,{}),label:i("popup.report.radiogroup.option2")}),(0,Z.jsx)(N.Z,{value:"other",control:(0,Z.jsx)(pt,{}),label:i("popup.report.radiogroup.option3")})]}),m?(0,Z.jsx)(Fe.Z,{className:r.reasonTextField,autoComplete:"off",value:j,onChange:C,label:i("popup.report.textfield"),id:"outlined-secondary",variant:"filled",rows:1}):null,(0,Z.jsx)(p.Z,{className:r.bottomDivider}),(0,Z.jsx)(M.Z,{children:(0,Z.jsx)(N.Z,{control:(0,Z.jsx)(O.Z,{value:R,onChange:P,sx:wt}),label:i("popup.report.include_html")})}),(0,Z.jsx)(p.Z,{className:r.bottomDivider}),(0,Z.jsx)(h.Z,{className:r.submitButton,disabled:!w,color:"primary",variant:"contained",type:"submit",children:"Send"})]})}),(0,Z.jsx)(vt.Z,{className:r.backdrop,open:v,children:(0,Z.jsx)(d.Z,{color:"inherit"})})]}):null}var kt=n(22543);const Zt=(0,m.Z)((e=>({root:{verticalAlign:"center",textAlign:"center"},noInternetContent:{margin:"30px"}})));const Ct=function(e){const t=Zt(),{t:n}=(0,x.$)();return(0,Z.jsxs)("div",{className:t.root,children:[(0,Z.jsxs)("div",{className:t.noInternetContent,children:[(0,Z.jsx)(kt.Z,{fontSize:"large"}),(0,Z.jsx)(j.Z,{variant:"h6",children:(0,Z.jsx)(Ge.Z,{fontWeight:500,m:0,children:n("general.no_internet_connection.title")})}),(0,Z.jsx)(j.Z,{children:n("general.no_internet_connection.subtitle")})]}),e.showDivider?(0,Z.jsx)(p.Z,{}):null]})};class Et{static isUserAdmin(e){const t=e.signInUserSession.idToken.payload["cognito:groups"];return t&&"Admins"===t[0]}}var _t=n(54184);class Rt{static isMobileSafari(e){let t=this.browserName(e);return"Mobile Safari"===t||"Safari"===t&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1}static isSafari(e){return"Safari"===this.browserName(e)}static isiOS(e){return"iOS"===(new _t.UAParser).setUA(e).getResult().os.name}static browserName(e){return(new _t.UAParser).setUA(e).getResult().browser.name}}function It(e){const{t:t}=(0,x.$)(),[n,s]=(0,c.useState)(!0),[a,o]=(0,c.useState)(!1),r=async()=>{try{const e=await new f.cf(f.Vm.Tab.GetActiveTab).sendRequest(),t=e.message.payload.tab.id;await(async e=>{new f.cf(f.Vm.Tab.GetExecutionResults,{tabId:e}).sendRequest().then((e=>{const t=e.message.payload.executionResults;return o("NO_ENTITLEMENT"===t.outcome),s(!1),t.outcome})).catch((e=>{s(!1),console.log("Error getting execution outcome.")}))})(t)}catch(e){s(!1)}};return(0,c.useEffect)((()=>{r()}),[]),n?(0,Z.jsx)(d.Z,{}):a?(0,Z.jsxs)("div",{children:[(0,Z.jsx)(Se.ZP,{item:!0,xs:12,style:{padding:10},children:(0,Z.jsx)(j.Z,{style:{whiteSpace:"pre-line"},children:t("popup.session_state.no_entitlement")})}),(0,Z.jsx)(p.Z,{})]}):(0,Z.jsxs)("div",{children:[(0,Z.jsx)(Se.ZP,{item:!0,xs:12,style:{padding:10},children:(0,Z.jsx)(j.Z,{style:{whiteSpace:"pre-line"},children:e.loggedIn===Le.LOGGED_IN?t("popup.session_state.logged_in",{email:e.email}):t("popup.session_state.not_logged_in")})}),(0,Z.jsx)(p.Z,{})]})}var Ot=n(34660),Nt=n(27692),Mt=n(6199);const Pt=(e,t)=>(0,qe.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Tt=e=>(0,qe.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const zt=function(e){const t=(0,Je.Z)({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:s=!1}=t;return(0,Z.jsxs)(c.Fragment,{children:[(0,Z.jsx)(Mt.Z,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const s={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,a]=t;var o;s[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(o=a.palette)?void 0:o.mode}}));let a=(0,qe.Z)({html:Pt(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,qe.Z)({margin:0},Tt(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},s);const o=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(a=[a,o]),a}(e,s)}),n]})},Dt=async()=>{await new f.cf(f.Vm.Generic.AppOpen,{}).sendRequest()},At=()=>{const[e,t]=(0,c.useState)(!1),[n,s]=(0,c.useState)(!1),[a,o]=(0,c.useState)(null);return(0,c.useEffect)((()=>{(async()=>{const e=await new f.cf(f.Vm.Entitlement.GetCurrentEntitlement,{}).sendRequest();t(e.message.payload.hasEntitlement),s(e.message.payload.isRCIdSynced),o(e.message.payload.installedAt)})()}),[]),{hasEntitlement:e,isRCIdSynced:n,installedAt:a}},Lt=()=>{const{hasEntitlement:e,isRCIdSynced:t}=At(),n=Rt.isMobileSafari(navigator.userAgent),{t:s}=(0,x.$)();return n?(0,Z.jsxs)("div",{children:[e&&!t&&(0,Z.jsx)(j.Z,{children:"Please open app to update"}),(0,Z.jsx)(h.Z,{target:"_blank",component:B.Z,href:"superagent://",color:"primary",variant:"contained",style:{marginTop:"10px"},size:"small",onClick:Dt,children:s("popup.open_app.button")})]}):null},Vt=3,Ft="preferences",Gt="provider",Bt="provider_detectors",qt="rules",$t="categories",Ut="reportedSites",Ht="easyListCookies",Wt="RCIdInstalledAt";class Jt{static expirationDateInStringFor(e){return Jt.expirationDateFor(e).toString()}static expirationDateFor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=this.expirationTimeFor(e);return t.setMinutes(t.getMinutes()+n),t}static expirationTimeFor(e){switch(e){case Ft:return 5;case Gt:return 2;case Ut:return 15;case Bt:case qt:case $t:return 180;case Ht:return 240;case Wt:return 10080;default:return 0}}}const Kt=(e,t,n)=>e&&(t||!n||!(e=>new Date>=Jt.expirationDateFor(Wt,new Date(e)))(n)),Yt=()=>{const{hasEntitlement:e,isRCIdSynced:t,installedAt:n}=At(),[s,a]=(0,c.useState)(0);(0,c.useEffect)((()=>{(async()=>{const e=await new f.cf(f.Vm.Entitlement.GetCounter,{}).sendRequest();a(e.message.payload.counter)})()}),[]);const o=(0,c.useMemo)((()=>Kt(e,t,n)),[e,t,n]),r=(0,c.useCallback)((()=>{new f.cf(f.Vm.Entitlement.SubscriptionVerificationNotification.ShowPopup,{}).sendRequest()}),[]);return V()?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{children:["Your subscription: ",e?"Active":"Inactive"]}),(0,Z.jsxs)("div",{children:["isRCIdSynced: ",t.toString()]}),n&&(0,Z.jsxs)("div",{children:["Installed At: ",new Date(n).toISOString(),". Expired after 7 days"]}),(0,Z.jsxs)("div",{children:["Is Eligible: ",o.toString()]}),(0,Z.jsxs)("div",{children:["Free runs: ",s," of ",Vt]}),(0,Z.jsx)(h.Z,{onClick:r,type:"button",color:"primary",children:"Show Update Popup"})]}):null},Qt=()=>chrome.permissions.request({origins:["<all_urls>"]}),Xt=()=>{const e=Rt.browserName(navigator.userAgent),[t,n]=(0,c.useState)(!0);(0,c.useEffect)((()=>{if("Firefox"!==e)return;(async()=>{const e=await chrome.permissions.contains({origins:["<all_urls>"]});n(e)})()}),[e]);const s=(0,c.useCallback)((async()=>{const e=await Qt();n(e)}),[]);return"Firefox"!==e||t?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j.Z,{variant:"body",children:"To automate popup handling, you need to grant access to run on all sites."}),(0,Z.jsx)(h.Z,{color:"primary",variant:"contained",onClick:s,children:"Grant access to all sites"})]})};const en=function(){(0,c.useEffect)((()=>{Ot.m.recordPageOpened("Popup")}),[]);const[e,t]=(0,c.useState)(!1),[n,s]=(0,c.useState)(Le.LOADING),[a,o]=(0,c.useState)(void 0),[r,i]=(0,c.useState)(void 0),[l,u]=(0,c.useState)(null),[p,h]=(0,c.useState)(!0),[m,x]=(0,c.useState)(!1),[v,b]=(0,c.useState)(!1),[j,y]=(0,c.useState)(null),[w,S]=(0,c.useState)(null),[k,C]=(0,c.useState)(window.navigator.onLine),E=Rt.isMobileSafari(navigator.userAgent),[_,R]=(0,c.useState)(""),[O,N]=(0,c.useState)(null);return(0,c.useEffect)((()=>{C(window.navigator.onLine),new f.cf(f.Vm.Generic.PopupOpen).sendRequest().then((()=>{})).catch((e=>{})),new f.cf(f.Vm.Tab.GetActiveTab).sendRequest().then((e=>{const t=e.message.payload.tab;let n=t.id;u(n),N(t);const s=t.url;i(s);const a=g.w.rootDomainForURL(t.url);o(a),void 0!==a&&new f.cf(f.Vm.Whitelist.HostnameIsBlocked,{hostname:a}).sendRequest().then((e=>{const t=e.message.payload.isBlocked;h(!t)})).catch((e=>{}))})).catch((e=>{})),window.navigator.onLine?new f.cf(f.Vm.Auth.CheckAuth,{}).sendRequest().then((async e=>{const n=e.message.payload;R(n.attributes.email),t(Et.isUserAdmin(n)),s(Le.LOGGED_IN)})).catch((()=>{s(Le.NOT_LOGGED_IN)})):s(Le.NOT_LOGGED_IN)}),[]),n===Le.LOADING?(0,Z.jsx)(Nt.z,{children:(0,Z.jsx)("div",{className:"App",children:(0,Z.jsx)(d.Z,{})})}):(0,Z.jsxs)(Nt.z,{children:[(0,Z.jsx)(zt,{}),(0,Z.jsxs)("div",{className:"App",children:[!E&&(0,Z.jsx)(ye,{hostname:r,setSuccessMessage:S}),k?v?(0,Z.jsx)(St,{tab:O,hostname:a,isReportingProblem:v,setIsReportingProblem:b,setErrorMessage:y,setSuccessMessage:S}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(A,{hostname:a,isRunning:p,setIsRunning:h,tabId:l,isAdmin:e}),E?(0,Z.jsx)(It,{loggedIn:n,email:_}):(0,Z.jsx)(Ve,{isRunning:p,hostname:a,loggedIn:n,haveInfo:m,setHaveInfo:x}),(0,Z.jsx)(Ge.Z,{sx:{maxWidth:"300px"},children:(0,Z.jsx)(Xt,{})}),(0,Z.jsx)(Yt,{})]}):(0,Z.jsx)(Ct,{showDivider:!0}),!v&&(0,Z.jsx)(Lt,{}),(0,Z.jsx)(G,{isReportingProblem:v,setIsReportingProblem:b,hostname:a,setSuccessMessage:S}),(0,Z.jsx)(I,{error:j,success:w,setErrorMessage:y,setSuccessMessage:S})]})]})};var tn=n(41885),nn=n(74909),sn=n(61996),an=n(26362),on=n(62168),rn=n(64107),cn=n(85188),ln=n(68561),dn=n(22755),un=n(65387),pn=n(94774);const hn={en:{translation:sn},pt:{translation:an},de:{translation:on},es:{translation:rn},ru:{translation:cn},nl:{translation:ln},it:{translation:dn},fr:{translation:un}};tn.Z.use(pn.Z).use(nn.Db).init({resources:hn,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!0},react:{useSuspense:!1}});l.render((0,Z.jsx)(c.StrictMode,{children:(0,Z.jsx)(en,{})}),document.getElementById("root"))},1428:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45649)),o=n(80184),r=(0,a.default)((0,o.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");t.Z=r},90133:(e,t,n)=>{n.d(t,{V:()=>o});var s=n(75878),a=n(21217);function o(e){return(0,a.Z)("MuiDivider",e)}(0,s.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},11266:(e,t,n)=>{n.d(t,{l:()=>o,Z:()=>r});var s=n(75878),a=n(21217);function o(e){return(0,a.Z)("MuiRadio",e)}const r=(0,s.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"])},57441:(e,t,n)=>{e.exports=n(11372)},66374:(e,t,n)=>{n(31725);var s=n(72791),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),t.Fragment=o("react.fragment")}var r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var s,o={},l=null,d=null;for(s in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!c.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:a,type:e,key:l,ref:d,props:o,_owner:r.current}}t.jsx=l,t.jsxs=l},72791:(e,t,n)=>{e.exports=n(59117)}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,s,a,o)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],o=e[d][2];for(var i=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((e=>n.O[e](s[c])))?s.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,a,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,a){if(1&a&&(s=this(s)),8&a)return s;if("object"===typeof s&&s){if(4&a&&s.__esModule)return s;if(16&a&&"function"===typeof s.then)return s}var o=Object.create(null);n.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&s;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>s[e]));return r.default=()=>s,n.d(o,r),o}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={42:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var a,o,r=s[0],i=s[1],c=s[2],l=0;if(r.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var d=c(n)}for(t&&t(s);l<r.length;l++)o=r[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},s=self.webpackChunkextension=self.webpackChunkextension||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[130,146,796,727,356,141,827],(()=>n(64482)));s=n.O(s)})();